<!DOCTYPE html>
<html lang="en">

<head>
    <script src="../assets/js/config.js?v=1.0.9.14"></script>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <title>Create Merchant</title>
    <link rel="stylesheet" href="../assets/css/fontawesome-all.min.css?v=1.0.9.14">
    <link rel="stylesheet" href="../assets/css/merchant_create_merchant.css?v=1.0.9.14">

</head>

<body>
    <!-- Modal for error/success -->
    <div class="modal-overlay" id="modalOverlay">
        <div class="modal" id="modalBox">
            <button class="modal-close" id="modalCloseBtn" aria-label="Close">&times;</button>
            <div class="modal-icon" id="modalIcon"></div>
            <div class="modal-title" id="modalTitle"></div>
            <div class="modal-message" id="modalMessage"></div>
        </div>
    </div>

    <div class="container">
        <div class="logo-circle">
            <svg width="38" height="38" viewBox="0 0 28 32" fill="none" xmlns="http://www.w3.org/2000/svg">
                <path fill-rule="evenodd" clip-rule="evenodd"
                    d="M27.9766 0.193437L17.3616 11.8518L11.7609 6.4086H3.9584L13.6276 15.9528L13.3281 16.2817L13.3304 16.2842L3.90483 25.5879H11.7073L17.1227 20.3249L27.9225 31.8322C27.6855 31.94 27.4222 32 27.1448 32H1.88167C0.84245 32 0 31.1572 0 30.1176V1.88235C0 0.84276 0.842452 0 1.88167 0H27.1448C27.4434 0 27.7258 0.0695875 27.9766 0.193437Z"
                    fill="white" />
            </svg>
        </div>
        <h1 style="color: rgb(38, 168, 135);">Create Merchant</h1>
        <div class="subtitle">Register a new merchant account with detailed business information</div>


        <form id="merchantForm" autocomplete="off">
            <div class="form-section">
                <div class="section-title"><i class="fas fa-building"></i> Company Details</div>
                <div class="form-grid">
                    <div class="form-group">
                        <input type="text" id="legalName" name="legal_name" placeholder="Legal Name"
                            autocomplete="organization" required>
                    </div>
                    <div class="form-group">
                        <input type="text" id="brandName" name="brand_name" placeholder="Brand Name" autocomplete="off"
                            required>
                    </div>
                    <div class="form-group">
                        <input type="text" id="registrationNumber" name="registration_number"
                            placeholder="Registration Number" autocomplete="off" required>
                    </div>
                    <div class="form-group">
                        <input type="text" id="internationalOrgType" name="international_org_type"
                            placeholder="International Org Type" autocomplete="off" required>
                        <div class="helper-text">e.g., Private Limited Company</div>
                    </div>
                    <div class="form-group">
                        <input type="text" id="taxId" name="tax_id" placeholder="Tax ID" autocomplete="off" required>
                        <div class="helper-text">GSTIN/Tax Identification Number</div>
                    </div>
                    <div class="form-group">
                        <input type="url" id="website" name="website" placeholder="Website URL" autocomplete="url"
                            required>
                    </div>
                    <div class="form-group">
                        <input type="number" id="monthlyAvgTransactionVolume" name="monthly_avg_transaction_volume"
                            placeholder="Monthly Avg Transaction Volume" autocomplete="off" required>
                    </div>
                </div>
            </div>

            <div class="form-section">
                <div class="section-title"><i class="fas fa-map-marker-alt"></i> Registered Address</div>
                <div class="form-grid">
                    <div class="form-group full-width">
                        <textarea id="registeredAddress" name="registered_address" placeholder="Registered Address"
                            rows="2" required></textarea>
                    </div>
                    <div class="form-group">
                        <input type="text" id="registeredCity" name="registered_city" placeholder="City" required>
                    </div>
                    <div class="form-group">
                        <input type="text" id="registeredState" name="registered_state" placeholder="State" required>
                    </div>
                    <div class="form-group">
                        <input type="text" id="registeredCountry" name="registered_country" placeholder="Country"
                            required>
                    </div>
                    <div class="form-group">
                        <input type="text" id="registeredPincode" name="registered_pincode" placeholder="Pincode"
                            required>
                    </div>
                </div>
            </div>

            <div class="form-section">
                <div class="section-title"><i class="fas fa-envelope"></i> Communication Address</div>
                <div style="margin-bottom: 15px;">
                    <label
                        style="display: flex; align-items: center; gap: 8px; cursor: pointer; font-size: 14px; color: #4a5568;">
                        <input type="checkbox" id="sameAsRegisteredAddress" name="same_as_registered_address"
                            style="width: auto; height: auto;">
                        Same as Registered Address
                    </label>
                </div>
                <div id="communicationAddressFields" class="form-grid">
                    <div class="form-group full-width">
                        <textarea id="communicationAddress" name="communication_address"
                            placeholder="Communication Address" rows="2" required></textarea>
                    </div>
                    <div class="form-group">
                        <input type="text" id="communicationCity" name="communication_city" placeholder="City" required>
                    </div>
                    <div class="form-group">
                        <input type="text" id="communicationState" name="communication_state" placeholder="State"
                            required>
                    </div>
                    <div class="form-group">
                        <input type="text" id="communicationCountry" name="communication_country" placeholder="Country"
                            required>
                    </div>
                    <div class="form-group">
                        <input type="text" id="communicationPincode" name="communication_pincode" placeholder="Pincode"
                            required>
                    </div>
                </div>
            </div>

            <div class="form-section">
                <div class="section-title"><i class="fas fa-briefcase"></i> Business Details</div>
                <div class="form-grid">
                    <div class="form-group">
                        <input type="text" id="businessCategory" name="business_category"
                            placeholder="Business Category" autocomplete="off" required>
                        <div class="helper-text">e.g., goods_merchant</div>
                    </div>
                    <div class="form-group">
                        <input type="text" id="businessMode" name="business_mode" placeholder="Business Mode"
                            autocomplete="off" required>
                        <div class="helper-text">e.g., b2b</div>
                    </div>
                    <div class="form-group">
                        <input type="text" id="hsCodes" name="hs_codes" placeholder="HS Codes (Comma separated)"
                            autocomplete="off" required>
                    </div>
                    <div class="form-group">
                        <input type="text" id="category" name="category" placeholder="Category" autocomplete="off"
                            required>
                    </div>
                    <div class="form-group full-width">
                        <textarea id="descriptionOfProductsAndServices" name="description_of_products_and_services"
                            placeholder="Description of Products and Services" rows="3" required></textarea>
                    </div>
                    <div class="form-group full-width">
                        <input type="text" id="agreementDetails" name="agreement_details"
                            placeholder="Agreement Details" autocomplete="off" required>
                    </div>
                </div>
            </div>

            <div class="form-section">
                <div class="section-title"><i class="fas fa-university"></i> Settlement Details</div>
                <div class="form-grid">
                    <div class="form-group">
                        <input type="text" id="bankAccountNumber" name="bank_account_number"
                            placeholder="Bank Account Number" autocomplete="off" required>
                    </div>
                    <div class="form-group">
                        <input type="text" id="bankAccountName" name="bank_account_name" placeholder="Bank Account Name"
                            autocomplete="off" required>
                    </div>
                    <div class="form-group">
                        <input type="text" id="bankSwiftCode" name="bank_swift_code" placeholder="Bank SWIFT Code"
                            autocomplete="off" required>
                    </div>
                    <div class="form-group">
                        <input type="text" id="bankName" name="bank_name" placeholder="Bank Name" autocomplete="off"
                            required>
                    </div>
                    <div class="form-group">
                        <input type="text" id="bankBranchName" name="bank_branch_name" placeholder="Bank Branch Name"
                            autocomplete="off" required>
                    </div>
                    <div class="form-group">
                        <input type="text" id="bankCity" name="bank_city" placeholder="Bank City" autocomplete="off"
                            required>
                    </div>
                    <div class="form-group">
                        <input type="text" id="bankState" name="bank_state" placeholder="Bank State" autocomplete="off"
                            required>
                    </div>
                    <div class="form-group">
                        <input type="text" id="bankCountry" name="bank_country" placeholder="Bank Country"
                            autocomplete="off" required>
                    </div>
                    <div class="form-group">
                        <input type="text" id="bankPincode" name="bank_pincode" placeholder="Bank Pincode"
                            autocomplete="off" required>
                    </div>
                    <div class="form-group">
                        <input type="text" id="routingNumber" name="routing_number" placeholder="Routing Number"
                            autocomplete="off" required>
                    </div>
                    <div class="form-group full-width">
                        <textarea id="bankAddress" name="bank_address" placeholder="Bank Address" rows="2"
                            required></textarea>
                    </div>
                </div>
            </div>

            <button type="submit" id="createButton" class="main-action-btn">
                <i class="fas fa-user-plus"></i>
                <span id="btnText">Create Merchant</span>
            </button>
        </form>

    </div>


    <!-- Common utilities -->
    <!-- Trusted Types Policy (must load first) -->
    <script src="../assets/js/trusted-types-policy.js?v=1.0.9.14"></script>
    <script src="../assets/js/common-utils.js?v=1.0.9.14"></script>
    <!-- Pass Django variables to JavaScript -->
    <script>
        window.API_URL = window.Config.API_URL;
    </script>
    <!-- Page-specific logic -->
    <script src="../assets/js/create_merchant.js?v=1.0.9.14"></script>

    <!-- Credential injection handled centrally by common-utils.js -->

</body>

</html>